# ============================================================================
# Fleetillo Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env files with real credentials to version control
#
# For deployment configuration, see: deploy/SECRETS.md
# ============================================================================

# ============================================================================
# REQUIRED: Supabase Configuration
# ============================================================================
# Find these values in: Supabase Dashboard > Project Settings > API

# Your Supabase project URL
SUPABASE_URL=https://your-project.supabase.co

# Supabase anonymous (public) key - safe for client-side use
SUPABASE_KEY=your-supabase-anon-key

# Supabase service role key - bypasses Row Level Security
# WARNING: Never expose this key client-side
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# Database schema (default: fleetillo)
SUPABASE_SCHEMA=fleetillo

# ============================================================================
# REQUIRED: Google Maps API Configuration
# ============================================================================
# Get these from: Google Cloud Console > APIs & Services > Credentials
# Recommended: Create separate keys with appropriate restrictions
# See: deploy/GOOGLE_MAPS_API_RESTRICTION.md

# Server-side API key (restrict to: Geocoding, Places, Distance Matrix, Routes)
GOOGLE_MAPS_API_KEY=your-server-side-google-maps-api-key

# Browser-side API key (restrict to: Maps JavaScript, Places, Routes)
GOOGLE_MAPS_BROWSER_KEY=your-browser-side-google-maps-api-key

# ============================================================================
# Application Configuration
# ============================================================================

# Environment: development | production | test
NODE_ENV=development

# Backend API server port (default: 3000)
PORT=3000

# Web launcher port (default: 8080)
WEB_PORT=8080

# Logging level: debug | info | warn | error
LOG_LEVEL=info

# Enable debug mode (default: false)
DEBUG=false

# API route configuration
API_PREFIX=/api
API_VERSION=v1

# ============================================================================
# Session & Security
# ============================================================================

# Session secret for web launcher (generate with: openssl rand -hex 32)
SESSION_SECRET=your-random-session-secret-minimum-32-characters

# Demo access password (for demo mode authentication)
DEMO_PASSWORD=your-demo-password

# Allow iframe embedding (set to 'true' only if needed)
# ALLOW_IFRAME=false

# ============================================================================
# Dispatch Service Configuration
# ============================================================================
# Required for driver notifications via Telegram and Email

# Dispatch mode: embedded (single service) | standalone (separate service)
DISPATCH_MODE=embedded

# API keys for dispatch service authentication (comma-separated)
# Generate with: openssl rand -base64 32
DISPATCH_API_KEYS=your-dispatch-api-key-minimum-32-characters

# Base URL for generating links in dispatch messages
APP_BASE_URL=http://localhost:8080

# ============================================================================
# Telegram Bot Configuration
# ============================================================================
# Create a bot via @BotFather on Telegram to get these values

# Bot token from @BotFather
TELEGRAM_BOT_TOKEN=your-telegram-bot-token

# Webhook URL for receiving Telegram updates (production only)
# Format: https://your-domain.com/dispatch/api/v1/telegram/webhook
# WEBHOOK_URL=https://your-domain.com/dispatch/api/v1/telegram/webhook

# ============================================================================
# Email Configuration
# ============================================================================
# Choose one provider: resend (recommended) or sendgrid

# Email provider: resend | sendgrid
EMAIL_PROVIDER=resend

# Resend API key (if using Resend)
# Get from: https://resend.com/api-keys
RESEND_API_KEY=your-resend-api-key

# SendGrid API key (if using SendGrid)
# SENDGRID_API_KEY=your-sendgrid-api-key

# Sender email configuration
EMAIL_FROM_ADDRESS=dispatch@yourdomain.com
EMAIL_FROM_NAME=Fleetillo Dispatch

# ============================================================================
# Optional: External Services
# ============================================================================

# DigitalOcean API token (for deployment automation)
# Get from: DigitalOcean Control Panel > API > Tokens
# DIGITALOCEAN_API_TOKEN=your-digitalocean-api-token

# OpenAI API key (if using AI features)
# OPENAI_API_KEY=your-openai-api-key

# ============================================================================
# Optional: Direct Database Connection
# ============================================================================
# Only needed if not using Supabase client library

# DATABASE_URL=postgresql://user:password@host:port/database
