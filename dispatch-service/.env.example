# Dispatch Service Environment Variables

# Server Configuration
PORT=3001
NODE_ENV=development

# Application URL (for generating links in dispatch messages)
APP_BASE_URL=https://routemap.fleetillo.com

# Supabase Configuration (shared with main OptiRoute app)
SUPABASE_SCHEMA=fleetillo
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SCHEMA=fleetillo
# Service role key required to bypass RLS policies
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# API Authentication
# Comma-separated list of valid API keys for client authentication
# IMPORTANT: Each API key must be at least 32 characters long
DISPATCH_API_KEYS=your-32-character-minimum-api-key-here

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
# Secret token for webhook validation (generate with: openssl rand -hex 32)
TELEGRAM_WEBHOOK_SECRET=your-webhook-secret

# Email Provider Configuration
# Supported providers: sendgrid, resend
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=your-sendgrid-api-key
RESEND_API_KEY=your-resend-api-key
EMAIL_FROM_ADDRESS=dispatch@yourdomain.com
EMAIL_FROM_NAME=OptiRoute Dispatch

# Logging Configuration
LOG_LEVEL=info

# Default Channel Configuration
DEFAULT_CHANNEL=telegram

# CORS Configuration
# Comma-separated list of allowed origins (leave empty for development-only wildcard)
# Production example: https://fleetillo.com,https://routemap.fleetillo.com
CORS_ORIGIN=

# Rate Limiting Configuration
# Rate limit window in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW_MS=60000
# Maximum requests per window (default: 100)
RATE_LIMIT_MAX_REQUESTS=100
